# DKit

🐋 Simple pnpm image optimized for SvelteKit project.

## Pull

```bash
docker pull kwaabot/dkit # DockerHub

docker pull ghcr.io/kwaa/dkit # GitHub Container Registry
```

## Example

use [importantimport/urara](https://github.com/importantimport/urara), build with adapter-node, serve at 0.0.0.0:3000

> `ADAPTER=node` required by Urara

```bash
docker run -dt --rm --name dkit \
-e ADAPTER=node \
-e REPO=importantimport/urara \
-e SERVE=true \
--network=host \
kwaabot/dkit build
```

local repository at `/home/user/repo`, pnpm-store already exists, skip installation step, start the development server with port 8080

> Currently unavailable due to store-dir setting failed

```bash
docker run -dt --rm --name dkit \
-e INSTALL=false \
-v /home/user/repo:/usr/src/app \
-v /var/cache/pnpm-store:/var/cache/pnpm-store \
--network=host \
kwaabot/dkit dev --port 8080
```

## Environment Variables

### STORE ('/var/cache/pnpm-store')

pnpm-store folder location.

### HOME ('/usr/src/app')

repository folder location.

### REPO ('user/repo')

set to another value to use degit to download the repository.

### INSTALL (true)

set to false to skip the installation step.

### SERVE (false)

set to true to start the server generated by adapter-
when using this feature, you should ensure that the OUT directory is configured correctly and that the index.js file is correctly generated.

### OUT ('build')

adapter-node output folder name, only used when SERVE=true.

## License

This work is free, it comes without any warranty. You can redistribute it and/or modify it under the terms of the Do What The Fuck You Want To Public License, Version 2, as published by Sam Hocevar. See the [COPYING](https://github.com/kwaa/dkit/blob/main/COPYING) file for more details.
